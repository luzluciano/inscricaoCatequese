<header class="app-header">
  <div class="container">
    <div class="header-content">
      <!-- Logo/TÃ­tulo -->
      <div class="logo" (click)="goToHome()">
        <h1>Sistema de InscriÃ§Ãµes </h1>
      </div>

      <!-- Menu de navegaÃ§Ã£o -->
      <nav class="nav-menu">
        <a routerLink="/" class="nav-link">InÃ­cio</a>
        
        <!-- Dropdown de InscriÃ§Ãµes -->
        <div class="nav-dropdown">
          <button class="nav-link dropdown-trigger" type="button" (click)="toggleInscricoesDropdown()">
            Catequese <span class="dropdown-arrow">â–¼</span>
          </button>
          <div class="dropdown-menu" [class.show]="showInscricoesDropdown">
            <a routerLink="/inscricao" class="dropdown-item" (click)="closeDropdowns()">
              ğŸ“ Nova InscriÃ§Ã£o
            </a>
            <a routerLink="/consulta" class="dropdown-item" *ngIf="isLoggedIn" (click)="closeDropdowns()">
              ğŸ” Consultar InscriÃ§Ãµes
            </a>
            <a routerLink="/relatorios" class="dropdown-item" *ngIf="isLoggedIn && hasPermission('inscricoes.relatorios')" (click)="closeDropdowns()">
              ğŸ“Š RelatÃ³rios
            </a>
          </div>
        </div>

        <!-- Dropdown de AdministraÃ§Ã£o -->
        <div class="nav-dropdown" *ngIf="isLoggedIn && hasPermission('admin')">
          <button class="nav-link dropdown-trigger" type="button" (click)="toggleAdminDropdown()">
            âš™ï¸ Admin <span class="dropdown-arrow">â–¼</span>
          </button>
          <div class="dropdown-menu" [class.show]="showAdminDropdown">
            <a routerLink="/admin" class="dropdown-item" (click)="closeDropdowns()">
              ğŸ  Painel Principal
            </a>
            <a routerLink="/admin/users" class="dropdown-item" (click)="closeDropdowns()">
              ğŸ‘¥ UsuÃ¡rios
            </a>
            <a routerLink="/admin/spots" class="dropdown-item" (click)="closeDropdowns()">
              ğŸ¯ Spots Home
            </a>
          </div>
        </div>
      </nav>

      <!-- Status do usuÃ¡rio -->
      <div class="user-status">
        <div *ngIf="isLoggedIn; else notLoggedIn" class="logged-in">
          <div class="user-info">
            <span class="user-icon">ğŸ‘¤</span>
            <span class="user-name">{{ currentUser?.nome }}</span>
            <div class="user-dropdown">
              <button class="dropdown-toggle" type="button">
                âš™ï¸
              </button>
              <div class="dropdown-menu">
                <a routerLink="/profile" class="dropdown-item">Perfil</a>
                <a routerLink="/admin" class="dropdown-item" *ngIf="currentUser?.permissions?.includes('admin')">AdministraÃ§Ã£o</a>
                <a routerLink="/admin/spots" class="dropdown-item" *ngIf="currentUser?.permissions?.includes('admin')">ğŸ¯ Spots Home</a>
                <button type="button" class="dropdown-item logout-btn" (click)="logout()">
                  ğŸšª Sair
                </button>
              </div>
            </div>
          </div>
        </div>
        
        <ng-template #notLoggedIn>
          <div class="not-logged-in">
            <span class="status-text">NÃ£o logado</span>
            <button type="button" class="login-btn" (click)="goToLogin()">
              ğŸ”‘ Entrar
            </button>
          </div>
        </ng-template>
      </div>
    </div>
  </div>
</header>